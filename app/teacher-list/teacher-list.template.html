<div class="limiter">
    <button class="btn btn-success"
        ng-click="$ctrl.createRelationship($ctrl.degreesMap, $ctrl.mattersMap, $ctrl.classesMap, $ctrl.teachersMap, $ctrl.relationships, $ctrl.teachers, $ctrl.matters, $ctrl.classes, $ctrl.degrees  )">
        <ion-icon name="save"></ion-icon>Edit Relationships
    </button>
    <div class="container-table100">
        <div class="wrap-table100">
            <p>
                Search by Name:
                <input ng-model="$ctrl.query" />
            </p>

            <p>
                Search by Class:
                <input ng-model="$ctrl.query1" />
            </p>

            <p>
                Search by Degree:
                <input ng-model="$ctrl.query2" />
            </p>
            <p>
                Sort by:
                <select ng-model="$ctrl.orderProp">
                    <option value="teacher_name">Name</option>
                    <option value="matter_name">Matter</option>
                    <option value="degree_name">Degree</option>
                    <option value="class_name">Class</option>
                </select>
            </p>

            <!-- Division -->
            <table class="table main_table teachers">


                <tr class="row header">
                    <th>Teacher</th>
                    <th>Matter</th>
                    <th>Relation</th>
                </tr>

                <tbody style="background: #fff;"
                    ng-repeat="teacher in $ctrl.relationships | filter:$ctrl.query | filter:$ctrl.query1  | orderBy:$ctrl.orderProp">
                    <td class="teacher_name">{{teacher.teacher_name }}
                    </td>
                    <td>{{teacher.matter_name }}</td>

                    <td class="subTable" ng-if="teacher.degrees.length > 0" ->
                        <table cellpadding="0" cellspacing="0">
                            <tr class="subTable_header">
                                <th>Degree</th>
                                <th>Classes</th>
                            </tr>
                            <tbody
                                ng-repeat="degree in teacher.degrees | filter:$ctrl.query2 | orderBy:$ctrl.orderProp">
                                <tr>
                                    <td>{{degree.degree_name }}

                                        <div class="show_students">
                                            <button id="show_students" type="button" class="btn btn-primary"
                                                ng-click="$ctrl.showStudents(degree.degreeId, degree.degree_name)">
                                                <ion-icon name="book"></ion-icon>
                                            </button>
                                        </div>
                                    </td>
                                    <td class="class_name">{{degree.classes_names}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                    <td ng-if="!(teacher.degrees.length > 0)">-</td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>